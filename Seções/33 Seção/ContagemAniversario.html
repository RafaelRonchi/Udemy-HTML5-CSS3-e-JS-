<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<style>
    body{
        font-family: sans-serif;
        text-align: center;
        
    }
    h1{
        font-size: 2rem;
    }
    p{
        font-size: 1.5rem;
    }
    #container{
        width: 500px;
        margin: 0 auto;
        border: 1px solid #000;
        padding: 20px;
        background-color: rgba(226, 43, 43, 0.404);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

</style>
<body>
    <div id="container"> 
        <h1>Contagem regressiva para o aniversário</h1>
        <p>Faltam:</p>
        <strong>
            <p id="dias"></p>
        </strong>
        <p>dias para o aniversário</p>
    </div>
    
    <script>
        (function(){
            var $p = document.querySelector('#dias')

            var dataAtual = new Date();
            dataAtual.setHours(0)
            dataAtual.setMinutes(0)
            dataAtual.setSeconds(0)
            dataAtual.setMilliseconds(0)
            var anoAtual = dataAtual.getFullYear();

            var dataNiver = new Date(anoAtual, 0, 31);

            var dataAtualTS = dataAtual.getTime();
            var dataNiverTS = dataNiver.getTime();

            if(dataNiverTS === dataAtualTS){
                alert('Feliz aniversário')
                return;
            }
            if(dataNiverTS < dataAtualTS){
                dataNiver.setFullYear(++anoAtual)
                dataNiverTS = dataNiver.getTime();
            }

            const DIATS = 24 * 60 * 60 * 1000
            var diferenca = dataNiverTS - dataAtualTS

            $p.textContent = Math.ceil(diferenca / DIATS)
            
            
        })()
    </script>
</body>
</html>